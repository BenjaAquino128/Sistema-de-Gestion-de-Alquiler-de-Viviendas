<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_order_form_inherit_contract_page" model="ir.ui.view">
        <field name="name">sale.order.form.contract.page</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale_renting.rental_order_primary_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet/notebook/page[@name='other_information']" position="after">
                <page string="Contratos Dinamicos">
                    <group>
                        <field name="contrato_dinamico"/>
                    </group>
                </page>
            </xpath>

           
        </field>
    </record>

    <record id="ocultar_firma_del_cliente" model="ir.ui.view">
        <field name="name">ocultar.firma.del.cliente</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale_renting.rental_order_primary_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet/notebook/page[@name='customer_signature']" position="replace">
            </xpath>
        </field>
    </record>

    <record id="ocultar_campos" model="ir.ui.view">
        <field name="name">ocultar.campos</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale_renting.rental_order_primary_form_view"/>
        <field name="arch" type="xml">
            <field name="rental_start_date"
                    string="Periodo de alquiler"
                    widget="daterange"
                    options="{'end_date_field': 'rental_return_date'}"
                    invisible="not is_rental_order or es_mensual"
                    required="has_rented_products"/>
            <field name="rental_return_date"
                invisible="not is_rental_order or es_mensual"
                required="has_rented_products"/>

        </field>
    </record>
    

    <record id="contrato_dinamico_form_edit" model="ir.ui.view">
        <field name="name">contract.dinamico.form.edit</field>
        <field name="model">contrato.dinamico</field>
        <field name="arch" type="xml">
            <form string="Contrato Dinamico">
                <sheet style="display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 100%; margin: 0 auto; resize: both;">
                    <group>
                        <field name="name"/>
                    </group>
                    <group>
                        <field colspan="2" name="contract_template"
                               nolabel="1"
                               placeholder="Escribe el contrato aquÃ­..."
                               style="height: 1000px; width: 100%; text-align: justify; overflow-y: auto;"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    


    <record id="action_contrato_dinamico" model="ir.actions.act_window">
        <field name="name">Tipos de Contratos</field>
        <field name="res_model">contrato.dinamico</field>
        <field name="view_mode">tree,form</field>
        <field name="target">current</field>
    </record>

    <menuitem id="tipo_contrato_id"
          name="Tipos de Contratos"
          parent="sale_renting.menu_rental_config"
          sequence="20"
          action="action_contrato_dinamico"/>


</odoo>
